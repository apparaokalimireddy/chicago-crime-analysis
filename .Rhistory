colnames(df)[2]<-'community_area'
dem<-read.csv("Chicago Neighborhood Demographics.csv")
View(df)
str(demo)
str(demo)
colname(demo)[2]<-'community_area'
colname(dem)[2]<-'community_area'
View(dem)
colnames(dem)[2]<-'community_area'
dem<dem[, colnames(dem) %in% c('community_area','Percent.Black', 'Percent.Hispanic','Median.Income','Poverty.Rate','Unemployment.Rate','Total.Population')]
colnames(dem)[2]<-'community_area'
dem<dem[, colnames(dem) %in% c('community_area','Percent.Black', 'Percent.Hispanic','Median.Income','Poverty.Rate','Unemployment.Rate','Total.Population')]
dem<dem[, colnames(dem) %in% c('community_area', 'Percent.Black', 'Percent.Hispanic','Median.Income','Poverty.Rate','Unemployment.Rate','Total.Population')]
dem<-dem[, colnames(dem) %in% c('community_area', 'Percent.Black', 'Percent.Hispanic','Median.Income','Poverty.Rate','Unemployment.Rate','Total.Population')]
merge(x = df, y = dem, by = "community_area", all.x = TRUE)
comb<-merge(x = df, y = dem, by = "community_area", all.x = TRUE)
View(comb)
soc<-read.csv("chicago_socio_economics.csv")
View(soc)
colnames(soc)[1]<-'community_area'
soc[, !(colnames(soc %in% c('COMMNIY.AREA.NAME')))]
soc[, !(colnames(soc %in% c('COMMUNIY.AREA.NAME')))]
soc[, !(colnames(soc %in% c('COMMUNITY.AREA.NAME')))]
soc[, !(colnames(soc %in% c('COMMUNITY.AREA.NAME')))]
soc[, !(colnames(soc) %in% c('COMMUNITY.AREA.NAME'))]
soc<-soc[, !(colnames(soc) %in% c('COMMUNITY.AREA.NAME'))]
comb<-merge(x = combo, y = dem, by = "community_area", all.x = TRUE)
comb<-merge(x = comb, y = dem, by = "community_area", all.x = TRUE)
comb<-merge(x = comb, y = dem, by = "community_area", all.x = TRUE)
View(comb)
comb<-merge(x = comb, y = soc, by = "community_area", all.x = TRUE)
colnames(soc)<-tolower(colnames(soc))
rm(list=ls())
rm(list=ls())
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
latLonCounts <- as.data.frame(table(df$longitude, df$latitude))
latLonCounts$long <- as.numeric(as.character(latLonCounts$Var1))
latLonCounts$lat <- as.numeric(as.character(latLonCounts$Var2))
latLonCounts <- subset(latLonCounts, Freq > 0)
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = latLonCounts, aes(x = long, y = lat, color = Freq, size=Freq)) + scale_color_gradient(low = "yellow", high = "red")
View(df)
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
View(df)
df$long<-as.numeric(as.character(df$long))
df$lat<-as.numeric(as.character(df$lat))
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = long, y = lat, color = crime_rate, size=crime_rate)) + scale_color_gradient(low = "yellow", high = "red")
rm(list=ls())
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color = crime_rate, size=crime_rate)) + scale_color_gradient(low = "yellow", high = "red")
rm(list=ls())
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
rm(list=ls())
library(maps)
rm(list=ls())
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_rate<-(df$crime_count/df$total_population)*1000
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + scale_color_gradient(low = "yellow", high = "red")
(df$crime_count/df$total_population)*1000
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(as.character(df$total_population))
rm(list=ls())
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
as.numeric(as.character(df$total_population))
class(df$total_population)
as.character(df$total_population)
gsub(as.character(df$total_population), ",", "", fixed = TRUE)
gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE)
as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
(df$crime_count/df$total_population)*1000
df$crime_rate<-(df$crime_count/df$total_population)*1000
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + scale_color_gradient(low = "yellow", high = "red")
rm(list=ls())
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*500
png("map-crime-rate-2017.png", width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + scale_color_gradient(low = "yellow", high = "red")
dev.off()
rm(list=ls())
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
png("map-crime-rate-2017.png", width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + scale_color_gradient(low = "yellow", high = "red")
dev.off()
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + scale_color_gradient(low = "yellow", high = "red")
rm(list=ls())
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
png("map-crime-rate-2017.png", width=720, height=720, units="px")
df$crime_rate<-(df$crime_count/df$total_population)*1000
chicago <- get_map(location = "chicago", zoom = 12)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + scale_color_gradient(low = "yellow", high = "red")
dev.off()
chicago <- get_map(location = "chicago", zoom = 12)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + scale_color_gradient(low = "yellow", high = "red")
rm(list=ls())
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
chicago <- get_map(location = "chicago", zoom = 10)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + scale_color_gradient(low = "yellow", high = "red")
rm(list=ls())
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$crime_rate<-(df$crime_count/df$total_population)*1000
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + scale_color_gradient(low = "yellow", high = "red")
rm(list=ls())
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
png("map-crime-rate-2017.png", width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 10)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + scale_color_gradient(low = "yellow", high = "red")
dev.off()
png("map-crime-rate-2017.png", width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 10)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + scale_color_gradient(low = "yellow", high = "red")
dev.off()
chicago <- get_map(location = "chicago", zoom = 10)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + scale_color_gradient(low = "yellow", high = "red")
rm(list=ls())
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
chicago <- get_map(location = "chicago", zoom = 10.5)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + scale_color_gradient(low = "yellow", high = "red")
chicago <- get_map(location = "chicago", zoom = 10.5)
rm(list=ls())
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + scale_color_gradient(low = "yellow", high = "red")
?aes
rm(list=ls())
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(shape="Crime Rate", colour="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
rm(list=ls())
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(shape="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
rm(list=ls())
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
rm(list=ls())
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$crime_rate<-(df$crime_count/df$total_population)*1000
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
png("map-crime-rate-2017.png", width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 10)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
dev.off()
chicago <- get_map(location = "chicago", zoom = 10)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
rm(list=ls())
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
png("map-crime-rate-2017.png", width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 10)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
dev.off()
chicago <- get_map(location = "chicago", zoom = 10)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2017.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
png("map-crime-rate-2017.png", width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
dev.off()
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2016.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
png("map-crime-rate-2016.png", width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
dev.off()
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
library(maps)
library(ggmap)
df<-read.csv("chicago_community_crime_rate_2016.csv")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
png("map-crime-rate-2016.png", width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
dev.off()
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
crimeRateMap<-function(year=2017) {
library(maps)
library(ggmap)
df<-read.csv(paste("chicago_community_crime_rate_", year, ".csv", sep="")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
png(paste("map-crime-rate-",year,".png",sep=""), width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
dev.off()
}
crimeRateMap<-function(year=2017) {
library(maps)
library(ggmap)
df<-read.csv(paste("chicago_community_crime_rate_", year, ".csv", sep="")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
png(paste("map-crime-rate-",year,".png",sep=""), width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
dev.off()
}
rm(list=ls())
crimeRateMap<-function(year="2017") {
library(maps)
library(ggmap)
df<-read.csv(paste("chicago_community_crime_rate_", year, ".csv", sep="")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
png(paste("map-crime-rate-",year,".png",sep=""), width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
dev.off()
}
year<-2017
library(maps)
library(ggmap)
df<-read.csv(paste("chicago_community_crime_rate_", year, ".csv", sep="")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
png(paste("map-crime-rate-",year,".png",sep=""), width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
dev.off()
year<-2017
library(maps)
library(ggmap)
df<-read.csv(paste("chicago_community_crime_rate_", year, ".csv", sep="")
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
png(paste("map-crime-rate-",year,".png",sep=""), width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
dev.off()
crimeRateMap<-function(year=2017) {
library(maps)
library(ggmap)
df<-read.csv(paste("chicago_community_crime_rate_", year, ".csv", sep=""))
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
png(paste("map-crime-rate-",year,".png",sep=""), width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
dev.off()
}
crimeRateMap(2007)
crimeRateMap<-function(year=2017) {
library(maps)
library(ggmap)
df<-read.csv(paste("chicago_community_crime_rate_", year, ".csv", sep=""))
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
png(paste("map-crime-rate-",year,".png",sep=""), width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
dev.off()
}
crimeRateMap(2007)
crimeRateMap<-function(year=2017) {
library(maps)
library(ggmap)
df<-read.csv(paste("chicago_community_crime_rate_", year, ".csv", sep=""))
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
png(paste("map-crime-rate-",year,".png",sep=""), width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
dev.off()
df
}
df<-crimeRateMap(2007)
View(df)
View(df)
crimeRateMap<-function(year=2017) {
library(maps)
library(ggmap)
df<-read.csv(paste("chicago_community_crime_rate_", year, ".csv", sep=""))
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
#  png(paste("map-crime-rate-",year,".png",sep=""), width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
# dev.off()
df
}
df<-crimeRateMap(2007)
df<-crimeRateMap(2007)
crimeRateMap<-function(year=2017) {
library(maps)
library(ggmap)
df<-read.csv(paste("chicago_community_crime_rate_", year, ".csv", sep=""))
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
#  png(paste("map-crime-rate-",year,".png",sep=""), width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
# dev.off()
}
crimeRateMap(2007)
crimeRateMap(2007)
crimeRateMap<-function(year=2017) {
library(maps)
library(ggmap)
df<-read.csv(paste("chicago_community_crime_rate_", year, ".csv", sep=""))
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
png(paste("map-crime-rate-",year,".png",sep=""), width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 11)
ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
dev.off()
}
crimeRateMap(2007)
crimeRateMap(2008)
crimeRateMap(2009)
crimeRateMap(2010)
crimeRateMap(2011)
crimeRateMap(2012)
crimeRateMap(2013)
crimeRateMap(2014)
crimeRateMap(2015)
crimeRateMap(2016)
crimeRateMap(2017)
crimeRateMap<-function(year=2017) {
library(maps)
library(ggmap)
df<-read.csv(paste("chicago_community_crime_rate_", year, ".csv", sep=""))
df$longitude<-as.numeric(as.character(df$longitude))
df$latitude<-as.numeric(as.character(df$latitude))
df$crime_count<-as.numeric(as.character(df$crime_count))
df$total_population<-as.numeric(gsub(as.character(df$total_population), pattern=",", replacement = "", fixed = TRUE))
df$crime_rate<-(df$crime_count/df$total_population)*1000
#png(paste("map-crime-rate-",year,".png",sep=""), width=720, height=720, units="px")
chicago <- get_map(location = "chicago", zoom = 11)
p<-ggmap(chicago) + geom_point(data = df, aes(x = longitude, y = latitude, color=crime_rate, size=crime_rate)) + labs(size="Crime Rate", color="Crime Rate") +scale_color_gradient(low = "yellow", high = "red")
#dev.off()
ggsave(file=paste("map-crime-rate-",year,".png",sep=""), plot=p)
}
crimeRateMap(2007)
crimeRateMap(2008)
crimeRateMap(2009)
crimeRateMap(2010)
crimeRateMap(2011)
crimeRateMap(2012)
crimeRateMap(2013)
crimeRateMap(2014)
crimeRateMap(2015)
crimeRateMap(2016)
crimeRateMap(2017)
